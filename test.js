javascript:(()=>{try{const href=window.location.href;if(!/\/jobs\/view\//.test(href)){alert('Open the job in its own tab (URL must contain /jobs/view/).');return;}/* ðŸ‘‡ EDIT ONLY THIS LIST: */const FIELDS=["title", "company", "location","posted_date_iso","job_url"];const Q=s=>{const el=document.querySelector(s);return el?el.innerText.trim():""};const canonEl=document.querySelector('link[rel="canonical"]');const canonical=canonEl?canonEl.href:href;const job_id=(canonical.match(/\/view\/(\d+)/)||[])[1]||(()=>{try{return(new URL(canonical)).searchParams.get("currentJobId")||""}catch{return""}})();const title=Q("h1[class*='jobs-unified-top-card__job-title'], h1[class*='job-details-jobs-title'], h1");const company=Q("a[class*='jobs-unified-top-card__company-name'], a.topcard__org-name-link, span.topcard__flavor");const loc=Q("span[class*='jobs-unified-top-card__bullet'], span.topcard__flavor--bullet");const posted_raw=Q("span[class*='posted-time-ago__text'], span[class*='jobs-unified-top-card__posted-date']");const applicants_raw=Q('span[class*="jobs-unified-top-card__applicant-count"], span[class*="num-applicants__caption"]');const applicants=(applicants_raw.replace(/,/g,"").match(/(\d+)/)||["",""])[1];const easy_apply=Array.from(document.querySelectorAll("button")).some(b=>/easy apply/i.test(b.innerText||""));const work_mode=(()=>{const t=(document.body.innerText||"").toLowerCase();if(t.includes("remote"))return"Remote";if(t.includes("hybrid"))return"Hybrid";if(t.includes("on-site")||t.includes("onsite")||t.includes("on site"))return"On-site";return""})();const desc=(Q("div.show-more-less-html__markup, div.jobs-description__content, div.description__text")||"").replace(/\s+/g," ").slice(0,400);const normDate=s=>{const now=new Date();const t=(s||"").toLowerCase();if(!s||t.includes("today")||t.includes("just"))return now.toISOString().slice(0,10);const m=t.match(/(\d+)\s+(minute|hour|day|week|month|year)s?\s+ago/);if(!m)return now.toISOString().slice(0,10);const n=+m[1],u=m[2];const days={minute:1/1440,hour:1/24,day:1,week:7,month:30,year:365}[u]*n;const dt=new Date(now-days*24*3600*1000);return dt.toISOString().slice(0,10)};const data={job_id:job_id,job_url:canonical,title:title,company:company,location:loc,posted_date_iso:normDate(posted_raw),applicants_count:applicants,easy_apply:easy_apply?"TRUE":"FALSE",work_mode:work_mode,description_snippet:desc};const row=FIELDS.map(k=>'"'+String(data[k]||"").replace(/"/g,'""')+'"').join(",");window.prompt("Copy CSV row:",row);}catch(e){window.alert("Bookmarklet error: "+e.message);}})();
